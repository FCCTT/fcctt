HOW-TO 
Written by Jesse Avilés
Ubuntu For Business & Education - Pt.2

Last issue, I started talking about the needs of a home office or small business that runs on Ubuntu. To have a reference starting point, I described a fictional environmental company of five people, and a mixture of desktops and laptops, and some hardware requirements. Now that we have our hardware set up, we move to the software necessary for our needs. The business will run Ubuntu 10.04 because the long-term release provides a known long-time support for the OS.
To determine the needs of the company, let’s start by evaluating the workflow. This is a big word that means “the steps taken to achieve a goal”. Look at the second page of this magazine. You will see logos for LibreOffice, GIMP, Scribus, and Creative Commons. LibreOffice is used to manage the text that will be in the articles. GIMP is used to resize and retouch the pictures, while Scribus gets the text, images, flow, and pdf creation managed. Creative Commons provides the license of the resulting work. 

The workflow can be defined very broadly or narrowly. We will broadly define our workflow as follows:
1, Market the company to potential clients.
2. Client calls, gives the details of a project, and asks for a proposal (cost estimate).
3. The proposal is researched, prepared, and sent by email.
4. Client accepts the proposal. Initial paperwork is completed.
5. Field work is performed. Samples and pictures are taken, and field notes and drawings are written. Samples are delivered to a lab.
6. The lab report and fields notes are evaluated, the pictures resized, and the report written and sent to the Client.
7. Invoice and payments are processed (from Client and subcontractors).
8. Records are archived.

From this workflow, we see that we need the following types of software:
• Desktop and web-based publishing (workflow 1)
• Office productivity (workflow 3, 6)
• Email and contact management (workflow 1, 2, 3, 4, 6, 7)
• Accounting (workflow 4, 5, 7)
• Image manipulation, CAD, GIS, Scanning (workflow 1, 5, 6, 7, 8)
• Records management (workflow 3, 4, 6, 7, 8)

Now that the software needed is known, the first area to check is the Ubuntu repository and then the web. The software can be open-source, and it could have no cost or it could be commercial. Remember that a free (all the meanings you want) alternative is not always available. If it is not in the repositories, it should be packaged as a deb and should need as few external dependencies as possible. You can also check the Ubuntu list of certified software at http://webapps.ubuntu.com/partners/certified-software/ for software that will work. These guidelines will help to minimize problems encountered.
Desktop and web-based publishing

Flyers, business cards, brochures and web pages fall in this category. When you meet someone, business cards are exchanged. If you are at an industry show or at a potential client meeting, you bring brochures and flyers with you. All of these have contact information, email and web address.

If you have used MS Publisher, Adobe Frame Maker or Quark Express before, you know that the precise placement of elements in a page is a must for printed publications. On Ubuntu, you will use Scribus (http://www.scribus.net). Scribus is desktop publishing software (DPS). Its precise placement and color management make it one of the best free and open DPS tools around. Scribus, and DPS tools in general, are not word processors. Take your time to learn Scribus. Check the first eight issues of FullCircle for a tutorial on it. Once you have the hang of it, your paper publications will come out as the best you have seen. 

Scribus will also be useful in creating forms to collect data on the field. It can create exports directly to pdf if you want to take it to a professional print shop. One thing about the pdf is that if you try to extract text from it, it may not come out really nice. Extracted text may have spaces within words, and every line is a new line. Use Writer to export a page with a couple of paragraphs to pdf and do the same with Scribus. You will see what I mean. Scribus is also an excellent tool to create pdf forms. Its main drawback is that multi-line boxes have too much space between lines making it look awkward. Also, there is no option to let the user save a filled pdf. Scribus can also use vector (Inkscape, http://inkscape.org) and raster (GIMP, http://www.gimp.org) images. You can use Inkscape to create the logo of your company and various clip arts. The upside of creating your logo as a vector image, is that you can scale it without losing resolution.

Web-based publishing is another thing. MS Publisher can create a web page of your document. It may do the work, but the code is horrible and tailored to use IE hacks. The repositories have Bluefish (http://bluefish.openoffice.nl/index.html) and Kompozer (http://www.kompozer.net). Both are web-page creation tools, but Bluefish is only for hand coders. With both, you can create html, PHP, javascript, or any combination of them. Bluefish development is active while Kompozer is more slow. If you plan to go this way, ensure that you use a strict DTD (document type definition), and forget about table layouts. Strict DTD html and CSS layouts will give you the least headaches because you will be following a strict recipe - the presentation is handled by CSS, and the information is handled by the html markup. When you tire of the way your website looks, you just change the CSS. When you need to update the information, you go to the html source. Your web page may not look exactly the same across browsers but even if you use hacks you are not assured that it will. Also, if you later hire someone to manage your website, a strict DTD is easier to maintain and read by a different person.

Also remember that there are many people accessing the web through smartphones, and others who print your info. It’s a good idea to offer a screen, print and mobile css rule for each. Remember that each medium is unique, and that you do not need to make all of them look the same. Open up Firefox Preferences, and look at the Content tab. The Advanced option of the Font & Colors section will show the font size and font used for web pages that do not offer any special rule for font display. If you have not changed it, the font will say serif, and the font size says 16 pt. If you open up the same page in print preview, the font may be too large. A CSS rule may leave the screen font at 1 em, but set the print size to 12 pt. A mobile rule may leave the same font size, but hide all images by default, or use alternate, smaller images. That way, your web page will automagically serve different users without you doing any special java or ajax magic.

Another tool you can use is Drupal (http://www.drupal.org). Drupal provides several templates, and handles all the coding for you. There are hosting companies that offer a Drupal setup to their clients. You will just have to add your text to the Drupal-ready templates. Check out http://drupal.org/hosting to find the host that is suitable for you.

Office productivity

This is the software group that most people will be familiar with. Ubuntu supplies OpenOffice as the default office productivity suite. OpenOffice is similar to MSOffice, enough so that most people will need only little training on it. The benefits of using OpenOffice come from being able to open MSOffice files, and having a full featured office productivity application. Not only do have you a word processor, spreadsheet, and presentation software, but you also get flowchart and diagramming via Draw, and database applications via Base (which is not in the default installation in Ubuntu). To get the full suite, open the Software Center and download OpenOffice.org Office Suite, or just install OpenOffice.org Base to get the database. The full installation will give you some legacy and mobile device filters.

OpenOffice is able to match MSOffice, so you should not have any reservations about it. One thing to remember is that OpenOffice is a tool to create Open Document Format (odf) files just like the latest iterations of MSOffice are tools to create Office OpenXML files. Although each suite is capable of opening “the other” file format, they are best suited to handle the one they were created for. In short, use ODF as your default file format. 

Getting a free suite means that you do not get some things like templates, clip art, and grammar checker, but they are available for download. The trickier one is the grammar tool. You will have to go to the Lingucomponent webpage (http://lingucomponent.openoffice.org/grammar.html) to check the available tools. After the deadline (http://afterthedeadline.com) has been the best of the offered tools with the drawback that you will need to install it on your server and have at least 4GB of RAM and several cores in it. It pays to do it. 

OpenOffice provides user guides at http://wiki.services.openoffice.org/wiki/Documentation/OOo3_User_Guides. Download them and have them available for your employees. Many of their first time use and migration pains are explained there. On Writer, go over the concepts of sections and page formats as those were some of the ones that gave me a lot of trouble. Learn to use paragraph, character, and page styles as these are very powerful. As children, we were taught that there are times that we need to emphasize text but word processors got us in the bad habit of using bold or italics. Same thing happens when separating paragraphs, an empty paragraph is added instead of using a paragraph style like Text body. 

Calc provides a spreadsheet with mathematical formulas and chart functions. The conditional formatting works great when you have a table with values to compare against a standard. Once you set it up, the data that fulfills your instructions get automatically formatted. I use it to bold, underline, italicize, or any combination of them, values that are above reference standards. These values are then charted to evaluate, for example, their trend over time or over an area. Calc formulas also provide ample coverage for statistical, logical, arithmetic, and financial needs. 

Many users of Impress will complain of the lack of templates. That said, move on. Impress does its job well enough. Transitions are good, and one thing that I have found that works better than Powerpoint is the embedded media player. Impress will automatically play the video, I wasn't able to do that with Powerpoint.

The bundled office suite provides for your needs. However, there is LibreOffice. LibreOffice now ships inside the current Ubuntu, and it looks like it will ship in the next LTS edition (12.04). Everything I said holds for LibreOffice. There are some features that LibreOffice has that have not made it to OpenOffice - yet. If you find that you want it, follow the instructions at https://wiki.ubuntu.com/LibreOffice. You will have to uninstall OpenOffice as the two cannot coexist.

Lyx (http://www.lyx.org) is an alternative document processor that you can try. Being a front end to Latex, Lyx emphasis is in writing; Latex rules are used to style the document. The basic textclasses are good, but people used to managing every single space may find them frustrating. Lyx takes some of Latex's complexity away and those who know Latex can create new textclasses to suit their needs. Lyx can output to pdf, html, DVI, and others.

Email and contact management

Evolution. Learn it, love it. It is no different (in terms of basic usage) from MS Outlook or IBM Lotus Notes. It manages your email, contacts, and calendar. Base connects to your address book so you can do mail-merge easily.

Accounting

This is a category with challenges - because not many free accounting packages exist for Linux small businesses. Luckily, the software repository has a Canonical Partner source that has a link to such software. Openbravo ERP is a web based application that lets you manage projects and create invoices, and access business intelligence tools, for a price. The certified software web page also points to Accountz (http://www.accountz.com) and Muli (http://www.muli.com.au). I have not had any experience with any of these packages but Ubuntu says they will work. Whether these do what you want is another thing.

Image manipulation, CAD, GIS, Scanning

The pictures taken during field word, the hand-made drawings, geolocating the samples, and digitally preserving all these, require the use of special software. Let’s start by looking at the image manipulation software. If you are new to Ubuntu, you may not know GIMP because it is no longer a default application. Go ahead and download it from the Software Center. GIMP is often compared to PhotoShop because it is just as powerful. If you care to learn it, there is a lot that you can do with your images. It will be part of your workflow of desktop and web publishing apps. In this instance, we will use it mostly for picture resizing because it gives us the option of using physical units (mm or in). When pictures are printed as part of a report, they will only take a set space, let’s say a 4×6 in. With most cameras these days, if you take pictures at full resolution, you end up with a picture of several MB and in the 30-inch size range. If you create a document, think Draw, with several of these images, the resulting file will be bloated, unwieldy and slow to print. Use GIMP to open the picture and go to the Image menu. From there. select Scale. In the dialog box, go to resolution, make sure that the chain link between x and y is not broken, and if it is anything different from 300, change it. Look at how the size changes. Now move to the unit selection box and select inches. Pictures are usually taken landscape - meaning that the width is the largest dimension. Change the dimension to 4 inches. The height will change automatically. Save this picture - with a different name - and compare its file size to the original one. Using these resized pictures will give you an excellent printed document and the file size will also be manageable.

Ubuntu’s default scanning application is Simple Scan, and simple it is. You will scan documents that you receive from third parties, and Simple Scan has settings for A4, A5, A6, letter, legal and 4×6 sizes. The resolution is limited to several choices, and saving options are limited to pdf, jpg, and png. I believe that these settings are enough, but Simple Scan always scanned the largest size and I had to crop every single image. When using the document feeder, Simple Scan was able to detect the last page and stop scanning. Double-sided scanning using a document feeder with automated collating of the pages is not possible. Simple Scan is also missing an optical character recognition (OCR) option because that is not the goal of the application. 

For OCR, and some more advanced features, look at gscan2pdf (http://gscan2pdf.sourceforge.net). Gscan2pdf is a collection of different tools that makes scanning more convenient by far. One of the things that it does is page cleaning and deskewing via unpaper (http://unpaper.berlios.de). By using scanadf (http://www.martoneconsulting.com/sane-scanadf.html), gscan2pdf should detect when the ADF is out of pages. Unfortunately, for me that feature does not work. I use an HP Photosmart Premium and every time I use the ADF I have to enter the number of pages in it. To use OCR you have to install an OCR engine. Of those that I have used, I obtained the best results with Tesseract (http://code.google.com/p/tesseract-ocr). Install it and any language you need before you install gscan2pdf. None of the tools that I have used in Ubuntu work like the ones that come for Windows. The multifunction printer I have comes bundled with software that scans to pdf and inserts the OCR'd text in such a way that you just select the line to copy the text. When saving to pdf, gscan2pdf places the OCR'd text in a note which some people will find odd. I will call this a limitation to the current state of the software. Another limitation is complex layout analysis. Ocropus (http://code.google.com/p/ocropus) and Cuneiform (http://launchpad.net/cuneiform-linux) are alternative OCR and layout analysis engines that you can use with gscan2pdf. Your results will vary depending on the layout of the documents, and both tools are command-line only.

Once you have scanned your field drawings, you will have to use a CAD application to digitize them. For those who know only AutoCAD, you will be surprised by the options in Ubuntu. AutoCAD is not available, and the best option in the repositories is QCAD. There is a free edition and a paid one (www.qcad.org). The commercial edition is only $36.00 USD - and well worth it. My reason to get the commercial edition was to get pdf export. There are some new features and bug fixes as well. I use QCAD to do layout of the facilities, and mark utilities and sample locations. It has a model space and no paper space. The missing paper space is the major drawback for me, but I have learned to work around it. The default file type it uses is dxf, and it can not export to AutoCAD dwg. That is no problem to me, but, if you want dwg support, look to Bricsys (http://www.bricsys.com) to obtain Bricscad. It works great in Ubuntu (an Ubuntu software partner), it is much more sophisticated than QCAD, and has a reasonable price at $400 USD. Another free option is DraftSight (http://www.3ds.com/products/draftsight/free-cad-software/). It appears promising enough - offering capabilities similar to Bricsys. When I installed it in Ubuntu, I was barely able to run it. I met the hardware specs, but scrolling, moving the mouse, and adding elements, was painfully slow. It reminded me of the time I was playing a game and my graphic card did not meet the minimum requirements. A couple of days ago, a new version came out - so things might have changed. I have stayed with QCAD because it provides for my needs.

Geographical Information Software is part of the toolbox used in the environmental sciences and many other places. It lets us evaluate the geographical relationship between many diverse aspects. If you have an Android phone, go to Latitude or Maps. If you get your location you can see what is around you. Do you want to know if the presence of a university has an impact in scholarization around it? You can go the US Census web page (http://www.census.gov/geo/www/tiger) and download their data. Then get the location of several universities, and use GIS tools to see if there is a change with distance. That is geographical information at work. GIS is even used in crime fighting (http://gislounge.com/crime-mapping-gis-goes-mainstream/). For my GIS needs, I use QGIS (http://www.qgis.org) which is not in the repositories. You will need to follow their instructions (http://www.qgis.org/wiki/Download#Ubuntu) to add their repositories. When installing it, also include the GRASS plugin. Those who have used ArcGIS will find QGIS somewhat familiar. The main problem that I have found is with the Coordinate Reference System (a type of information that gives a placeholder of locations). Read the manual on these because it works a little different from ArcGIS.

QGIS will also help in creating contours, whether they are of elevation or contaminant concentration. Follow these tutorials from Scratching Surfaces to do them. http://www.surfaces.co.il/?p=595 and http://www.surfaces.co.il/?p=578. 

Records management

Sometimes people forget that the information collected and created needs to be managed for several years. The Occupational Health and Safety Agency (OSHA) requires that employers keep certain records related to health monitoring for 30 years after a person leaves the company (29 CFR 1910.1020(d)(1)(i)). The US Environmental Protection Agency (EPA) has a record schedule (http://www.epa.gov/records/policy/schedule/) that governs the maintenance of their records. Records - paper, electronic or in any other media - consume space, money, and time. This is records management (http://en.wikipedia.org/wiki/Records_management). If we go back to our workflow, records are generated at almost every step: when a proposal is sent, when the proposal is accepted, the documents generated as part of the field work, invoices, payments, documents received from third parties, and so on. When you print those records, and start filling file cabinets, you will get to the point in which you will have to add to the file cabinets. The electronic records start filling your hard drives - requiring that you add more hard drives. I know people who have not erased any business email in over ten years. Holding on to records forever does not makes good business sense. You have to get rid of some. The National Archive and Records Agency (NARA) has a framework, geared to federal agencies, for developing records management guidance (http://www.archives.gov/records-mgmt/policy/rm-framework.html). There is even guidance for using sustainable formats (http://www.archives.gov/records-mgmt/initiatives/sustainable-faq.html) and pdf (http://www.archives.gov/records-mgmt/initiatives/pdf-records.html). The International Organization for Standardization (ISO) has for sale a two-part standard for electronics record management (http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=31908). This Australian webpage (http://www.records-management.com.au/information.shtml?standards-) has a comprehensive list of records-related standards and guidance from around the world.

Now that I have convinced you to throw away those unneeded records, I can tell you about record management software (RMS). RMS works like a gateway of documents. You use the RMS to save a document within the vaults of the repository and to request documents within it. The RMS keeps track of changes to the documents and who has the document out for editing. It also takes care of archiving. The Canonical Partners repository has one such option by a company called Nuxeo. Nuxeo goes a bit over record management, and it also offers content management. Think of “Terms and Conditions” that are added to contracts. There is a free option for you to evaluate.

Another RMS that you can check, and that is DoD 5015.02 certified, is Alfresco (http://www.alfresco.com). There is a free community edition. We are looking for a RMS where I am working now, and Alfresco is one of the contenders. The main reason to evaluate it is because it can connect to Documentum (a monster of enterprise content management software). I have not tried it yet, and, if you want to do it, the Linux Community Edition is 64bit only.

As you can see, Ubuntu offers all the tools needed by a small environmental company. The main cost for the company will be in acquiring the hardware, and setting the network and software. Most of the software that I mentioned above is free, and in the repositories, removing some of the headaches associated with hunting down software. Have no fear in taking the plunge to open shop with such a great free environment.
